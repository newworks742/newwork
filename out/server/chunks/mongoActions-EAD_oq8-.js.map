{"version":3,"file":"mongoActions-EAD_oq8-.js","sources":["../../../.svelte-kit/adapter-node/chunks/mongoActions.js"],"sourcesContent":["import { C as Contact, E as Events, P as Partners, a as Component } from \"./Partners.js\";\nconst contactUs = async (body) => {\n  console.log(body, \"body\");\n  const { ...contact } = body;\n  try {\n    console.log(\"Saving contact data:\", contact);\n    const newContact = new Contact(body);\n    const record = await newContact.save();\n    return {\n      success: true,\n      message: \"Contact details submitted successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error saving contact details:\", error);\n    return {\n      success: false,\n      message: \"Something went wrong while saving contact details\"\n    };\n  }\n};\nconst addEvent = async (body) => {\n  if (body.previewText) {\n    body.shortDescription = extractShortDescription(body.previewText);\n  }\n  const newNewsItem = new Events(body);\n  await newNewsItem.save();\n  return { status: 200 };\n};\nconst updateEvent = async (body) => {\n  if (body.image) {\n    body.image = body.image.trim().replace(/\\s?\\(\\d+\\)\\./, \".\").replace(/[\\\\:*?\"<>|()]/g, \"-\").replace(/[^a-zA-Z0-9.-]/g, \"-\").replace(/-+/g, \"-\").replace(/^-+/, \"\").replace(/-+$/, \"\");\n  }\n  if (body.shortDescription) {\n    body.shortDescription = body.shortDescription.trim().replace(/\\s{2,}/g, \" \");\n  }\n  if (body.previewText && !body.shortDescription) {\n    body.shortDescription = extractShortDescription(body.previewText);\n  }\n  await Events.findByIdAndUpdate(body.id, {\n    title: body.title,\n    newsLink: body.newsLink,\n    previewText: body.previewText,\n    Keyword: body.Keyword,\n    shortDescription: body.shortDescription\n  });\n  return { status: 200 };\n};\nasync function deleteEvent(body) {\n  await Events.findByIdAndDelete(body.id);\n  return { status: 200 };\n}\nconst createproduct = async (body) => {\n  console.log(body, \"body\");\n  try {\n    const blogUrl = slugify(body.title);\n    const newBlogs = new Component({\n      ...body,\n      blogUrl\n    });\n    const savedBlogs = await newBlogs.save();\n    return {\n      success: true,\n      message: \"Blogs created successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error saving Blogs:\", error);\n    return {\n      success: false,\n      message: \"Failed to submit Blogs form\",\n      error: error.message\n    };\n  }\n};\nfunction slugify(text) {\n  return text.toString().toLowerCase().trim().replace(/[^a-z0-9]+/g, \"-\").replace(/^-+|-+$/g, \"\");\n}\nconst editproduct = async (id, body) => {\n  try {\n    if (body.title) {\n      body.blogUrl = slugify(body.title);\n    }\n    const updatedBlog = await Component.findByIdAndUpdate(id, body, { new: true });\n    if (!updatedBlog) {\n      return {\n        success: false,\n        message: \"Blog not found\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Blog updated successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error updating blog:\", error);\n    return {\n      success: false,\n      message: \"Failed to update blog\",\n      error: error.message\n    };\n  }\n};\nconst deleteproduct = async (id) => {\n  try {\n    const deletedBlog = await Component.findByIdAndDelete(id);\n    if (!deletedBlog) {\n      return {\n        success: false,\n        message: \"Blog not found\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Blog deleted successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error deleting blog:\", error);\n    return {\n      success: false,\n      message: \"Failed to delete blog\",\n      error: error.message\n    };\n  }\n};\nconst updatecontactstatus = async (body) => {\n  await Contact.findByIdAndUpdate(body.userId, { status: body.status });\n};\nconst createpartners = async (body) => {\n  console.log(body, \"bodyyyyyyyyyyyyyyyyyyyy\");\n  try {\n    const partnerUrl = slugify(body.title);\n    const newpartner = new Partners({\n      ...body,\n      partnerUrl\n    });\n    const savedBlogs = await newpartner.save();\n    return {\n      success: true,\n      message: \"Partners created successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error saving Blogs:\", error);\n    return {\n      success: false,\n      message: \"Failed to submit partners form\",\n      error: error.message\n    };\n  }\n};\nconst editpartners = async (id, body) => {\n  try {\n    if (body.image && body.image instanceof File && body.image.size > 0) {\n      const buffer = await body.image.arrayBuffer();\n      const base64 = Buffer.from(buffer).toString(\"base64\");\n      body.image = `data:${body.image.type};base64,${base64}`;\n    } else if (body.image && body.image instanceof File && body.image.size === 0) {\n      delete body.image;\n    }\n    if (body.title) {\n      body.blogUrl = slugify(body.title);\n    }\n    const updatedBlog = await Partners.findByIdAndUpdate(id, body, { new: true });\n    if (!updatedBlog) {\n      return {\n        success: false,\n        message: \"Blog not found\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Blog updated successfully\",\n      data: updatedBlog\n    };\n  } catch (error) {\n    console.error(\"Error updating blog:\", error);\n    return {\n      success: false,\n      message: \"Failed to update blog\",\n      error: error.message\n    };\n  }\n};\nconst deletepartners = async (id) => {\n  try {\n    const deletedBlog = await Partners.findByIdAndDelete(id);\n    if (!deletedBlog) {\n      return {\n        success: false,\n        message: \"Blog not found\"\n      };\n    }\n    return {\n      success: true,\n      message: \"Blog deleted successfully\"\n    };\n  } catch (error) {\n    console.error(\"Error deleting blog:\", error);\n    return {\n      success: false,\n      message: \"Failed to delete blog\",\n      error: error.message\n    };\n  }\n};\nexport {\n  updateEvent as a,\n  addEvent as b,\n  deletepartners as c,\n  deleteEvent as d,\n  editpartners as e,\n  createpartners as f,\n  deleteproduct as g,\n  editproduct as h,\n  createproduct as i,\n  contactUs as j,\n  updatecontactstatus as u\n};\n"],"names":[],"mappings":"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"}