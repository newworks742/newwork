{"version":3,"file":"_page.svelte-Bqo7HYsN.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/events/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as subscribe, v as validate_component, a as add_attribute, e as each, b as escape } from \"../../../../chunks/ssr.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../chunks/exports.js\";\nimport \"../../../../chunks/utils.js\";\nimport \"../../../../chunks/state.svelte.js\";\nimport { T as Toaster } from \"../../../../chunks/Toaster.js\";\nimport \"../../../../chunks/Toaster.svelte_svelte_type_style_lang.js\";\nimport { I as Icon } from \"../../../../chunks/Icon.js\";\nlet PUBLIC_COMPBUY_IMAGE_PATH = \"Digitoad\";\nfunction truncateText(text, maxLength) {\n  if (!text) return \"\";\n  return text.length > maxLength ? text.slice(0, maxLength) + \"...\" : text;\n}\nfunction formatDate(dateString) {\n  if (!dateString) return \"\";\n  try {\n    return new Date(dateString).toLocaleDateString(\"en-US\", {\n      year: \"numeric\",\n      month: \"long\",\n      day: \"numeric\"\n    });\n  } catch (e) {\n    console.error(\"Invalid date format:\", dateString);\n    return \"\";\n  }\n}\nconst Eventadmin = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let records;\n  let totalCount;\n  let news;\n  let currentPage;\n  let totalPages;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  let headers = [\n    \"Title\",\n    \"Event Date\",\n    \"Timing\",\n    \"Short Description\",\n    \"PreviewText\",\n    \"Image\",\n    \"Action\"\n  ];\n  let searchQuery = $page.url.searchParams.get(\"search\") || \"\";\n  (/* @__PURE__ */ new Date()).toISOString().split(\"T\")[0];\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  ({ records, totalCount, news } = data);\n  currentPage = parseInt($page.url.searchParams.get(\"page\")) || 1;\n  totalPages = isNaN(totalCount) ? 1 : Math.ceil(totalCount / 10);\n  $$unsubscribe_page();\n  return `<section class=\"container mx-auto p-3\"><div class=\"mb-4 flex items-center bg-gray-200 justify-between p-4 rounded-md shadow-lg\"><h1 class=\"inline-flex text-2xl font-bold mr-5\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"flowbite:newspaper-solid\",\n      class: \"inline-block text-4xl bg-gray-50 rounded-md p-1 shadow-md\"\n    },\n    {},\n    {}\n  )} <span class=\"pt-0.5 ml-2\" data-svelte-h=\"svelte-pnxgdi\">Events List</span></h1> <div class=\"relative\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"ri:search-line\",\n      class: \"absolute left-3 top-1/2 -translate-y-1/2 text-gray-400\",\n      width: \"20\",\n      height: \"20\"\n    },\n    {},\n    {}\n  )} <input type=\"text\" placeholder=\"Search by event Title...\" class=\"max-w-2xl w-80 h-10 border border-gray-300 rounded-md shadow-sm focus:ring-0 focus:border-primary-500 px-8 py-2 pl-10 text-sm outline-none transition-all duration-200\"${add_attribute(\"value\", searchQuery, 0)}> ${searchQuery ? `<button type=\"button\" class=\"absolute right-3 top-1/2 transform -translate-y-1/2 cursor-pointer rounded\" style=\"color: #cb1919\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"oui:cross\",\n      width: \"16\",\n      height: \"16\",\n      class: \"font-bold\"\n    },\n    {},\n    {}\n  )}</button>` : ``}</div> <button class=\"px-5 py-1.5 bg-gray-700 border border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 transition-all duration-300\" data-svelte-h=\"svelte-1vdbw93\">Add New Event</button> </div> ${`${news.records?.length && news.records.length > 0 ? `<div class=\"w-full overflow-auto rounded-md shadow-md scroll-bar\"><table class=\"w-full border-collapse rounded text-sm\"><thead><tr class=\"font-medium bg-gray-100 sticky top-0 whitespace-nowrap text-left\">${each(headers, (header) => {\n    return `<th class=\"px-4 py-2 text-center\">${escape(header)}</th>`;\n  })}</tr></thead> <tbody class=\"text-xs\">${each(news.records, (item) => {\n    return `<tr class=\"border-t border-gray-200 font-medium whitespace-nowrap\"><td class=\"px-4 py-2 text-center\">${escape(truncateText(item.title, 25))}</td> <td class=\"px-4 py-2 text-center\">${escape(formatDate(item.startDate))} - ${escape(formatDate(item.endDate))}</td> <td class=\"px-4 py-2 text-center\">${escape(item.startTime)} - ${escape(item.endTime)}</td> <td class=\"px-4 py-2 text-center\">  <span class=\"text-gray-800 hover:underline cursor-pointer\">${escape(truncateText(item?.shortDescription, 20))}</span> ${item?.shortDescription?.length > 20 ? `  <span class=\"text-blue-400 underline text-xs hover:text-blue-600 cursor-pointer whitespace-nowrap\" data-svelte-h=\"svelte-1udggjx\">Readmore\n                      </span>` : ``}</td> <td class=\"px-4 py-2 text-center\">${item?.previewText ? `<div class=\"flex items-center justify-between space-x-0 w-[200px]\"><span class=\"truncate flex-1 overflow-hidden text-ellipsis whitespace-nowrap\">${escape(truncateText(item.previewText.replace(/<[^>]*>/g, \"\"), 20))}</span>  ${item.previewText.length > 20 ? ` <span class=\"text-blue-400 underline text-xs hover:text-blue-600 cursor-pointer whitespace-nowrap\" data-svelte-h=\"svelte-xhsia3\">Readmore\n                      </span>` : ``} </div>` : `<span data-svelte-h=\"svelte-1s4sarz\">-</span>`}</td> <td class=\"px-4 py-2 text-center\"><div class=\"flex flex-col items-center justify-center my-0.5\"><img${add_attribute(\"src\", `${PUBLIC_COMPBUY_IMAGE_PATH}/${item?.image}`, 0)}${add_attribute(\"alt\", item?.title || \"News image\", 0)} class=\"h-10 w-10 rounded shadow mb-0.5\">  </div></td> <td class=\"px-2 py-2 \"><div class=\"flex items-center justify-around my-0.5\"><button class=\"px-4 py-1 bg-gray-700 border border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 tra\" data-svelte-h=\"svelte-r6ye3k\">Edit</button> <button class=\"px-3.5 py-1 bg-gray-700 border border-gray-700 text-white rounded hover:bg-white hover:text-gray-700\" data-svelte-h=\"svelte-11d7jid\">Delete</button> </div></td> </tr>`;\n  })}</tbody></table></div> ${totalPages > 1 ? `<div class=\"px-5 flex justify-between items-center mb-3 mt-4\"><button ${currentPage === 1 ? \"disabled\" : \"\"} class=\"px-5 py-1.5 bg-gray-700 border border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 disabled:bg-gray-200 disabled:border-gray-200\">Previous</button> <span>Page ${escape(currentPage)} of ${escape(totalPages)}</span> <button ${currentPage === totalPages ? \"disabled\" : \"\"} class=\"px-5 py-1.5 bg-gray-700 border border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 disabled:bg-gray-200 disabled:border-gray-200\">Next</button></div>` : ``}` : `${news.records.length === 0 && searchQuery !== \"\" ? `<div class=\"h-60 w-full flex flex-col items-center justify-center border border-dashed rounded-md bg-gray-50 text-gray-500 shadow-inner\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"mdi:magnify-close\",\n      class: \"w-12 h-12 text-gray-400 mb-3\"\n    },\n    {},\n    {}\n  )} <h2 class=\"text-lg font-semibold\" data-svelte-h=\"svelte-120pkky\">No Results Found</h2> <p class=\"text-sm text-gray-400\">No data found for <span class=\"font-medium text-black\">&quot;${escape(searchQuery)}&quot;</span></p></div>` : `${news.records.length === 0 && !searchQuery ? `<div class=\"h-60 w-full flex flex-col items-center justify-center border border-dashed rounded-md bg-gray-50 text-gray-500 shadow-inner\"><div class=\"mb-3\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"mdi:alert-circle-outline\",\n      class: \"w-12 h-12 text-gray-400\"\n    },\n    {},\n    {}\n  )}</div> <h2 class=\"text-lg font-semibold\" data-svelte-h=\"svelte-o30z5i\">No News Data Available</h2> </div>` : ``}`}`}`}</section> ${validate_component(Toaster, \"Toaster\").$$render(\n    $$result,\n    {\n      position: \"bottom-right\",\n      richColors: true\n    },\n    {},\n    {}\n  )} ${``} ${``} ${``} ${``} ${``} ${``} ${``}`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  return `${validate_component(Eventadmin, \"Newsadmin\").$$render($$result, { data }, {}, {})}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}