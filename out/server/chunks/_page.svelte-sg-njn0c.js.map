{"version":3,"file":"_page.svelte-sg-njn0c.js","sources":["../../../.svelte-kit/adapter-node/entries/pages/admin/contact/_page.svelte.js"],"sourcesContent":["import { c as create_ssr_component, d as subscribe, v as validate_component, a as add_attribute, e as each, b as escape } from \"../../../../chunks/ssr.js\";\nimport \"@sveltejs/kit/internal\";\nimport \"../../../../chunks/exports.js\";\nimport \"../../../../chunks/utils.js\";\nimport \"../../../../chunks/state.svelte.js\";\nimport { p as page } from \"../../../../chunks/stores.js\";\nimport { I as Icon } from \"../../../../chunks/Icon.js\";\nconst Contactadmin = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let totalCount;\n  let contacts;\n  let currentPage;\n  let totalPages;\n  let $page, $$unsubscribe_page;\n  $$unsubscribe_page = subscribe(page, (value) => $page = value);\n  let { data } = $$props;\n  console.log(data, \"contactdata\");\n  let headers = [\n    \"User Name\",\n    \"Email\",\n    \"Phone\",\n    \"Subject\",\n    \"Message\",\n    \"Date\",\n    \"Actions\",\n    \"Status\"\n  ];\n  let searchQuery = $page.url.searchParams.get(\"search\") || \"\";\n  $page.url.searchParams.get(\"filter\") || \"unread\";\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  ({ totalCount, contacts } = data);\n  currentPage = parseInt($page.url.searchParams.get(\"page\")) || 1;\n  totalPages = isNaN(totalCount) ? 1 : Math.ceil(totalCount / 10);\n  $$unsubscribe_page();\n  return `<section class=\"container mx-auto p-3\"><div class=\"mb-4 flex items-center bg-gray-200 justify-between p-4 rounded-md shadow-md\"><h1 class=\"inline-flex text-2xl font-bold mr-5\">${validate_component(Icon, \"Icon\").$$render(\n    $$result,\n    {\n      icon: \"ic:baseline-contact-phone\",\n      class: \"inline-block text-3xl bg-gray-50 rounded-md p-1 shadow-md\"\n    },\n    {},\n    {}\n  )} <span class=\"pt-0.5 ml-2\" data-svelte-h=\"svelte-tfnfdz\">Contact Us List</span></h1> <div class=\"relative\"><input type=\"text\" placeholder=\"Search...\" class=\"block border-gray-200 rounded-lg w-80 focus:ring-0 focus:border-primary-500 border-1 transition duration-300\"${add_attribute(\"value\", searchQuery, 0)}> <button class=\"${\"absolute top-2.5 right-2 \" + escape(searchQuery.length > 1 ? \"\" : \"hidden\", true)}\">${validate_component(Icon, \"Icon\").$$render($$result, { icon: \"charm:cross\", class: \"text-2xl\" }, {}, {})}</button></div> <select class=\"block border-gray-300 px-2 rounded-md border-1 focus:ring-0 focus:border-primary-500 transition duration-300 shadow-sm\"><option value=\"all\" data-svelte-h=\"svelte-421o1o\">All</option><option value=\"unread\" data-svelte-h=\"svelte-pji9bi\">Unread</option><option value=\"responded\" data-svelte-h=\"svelte-rkcdku\">Responded</option><option value=\"spam\" data-svelte-h=\"svelte-tuglwu\">Spam</option></select></div> ${`${data?.records?.length ? `<div class=\"w-full overflow-auto rounded-md shadow-md scroll-bar\"><table class=\"w-full border-collapse text-sm\"><thead><tr class=\"text-sm font-medium bg-gray-100 sticky top-0 whitespace-nowrap\">${each(headers, (header) => {\n    return `<th class=\"px-4 py-2\">${escape(header)}</th>`;\n  })}</tr></thead> <tbody class=\"text-xs\">${each(data?.records, (item) => {\n    return `<tr class=\"border-t-1 font-medium whitespace-nowrap\"><td class=\"px-4 py-2\">${escape(item.name || \"-\")}</td>  <td class=\"px-4 py-2\">${escape(item.email)}</td> <td class=\"px-4 py-2\">${escape(item.phone)}</td> <td class=\"px-4 py-2\">${escape(item.subject)}</td> <td class=\"px-4 py-2\">${escape(item.message.length > 30 ? item.message.slice(0, 30) + \"...\" : item.message)}</td> <td class=\"px-4 py-2\">${escape(new Date(item.createdAt).toLocaleDateString(\"en-GB\"))}</td> <td class=\"px-6 py-1\"><button class=\"px-3 py-1 border-1 rounded border-gray-700 bg-gray-700 text-white hover:bg-white hover:text-gray-700 transition duration-300\" data-svelte-h=\"svelte-1qncob7\">View Details\n\t\t\t\t\t\t\t\t</button></td> <td class=\"px-4 py-1\"><form action=\"?/status\" method=\"POST\"><input type=\"hidden\" name=\"userId\"${add_attribute(\"value\", item._id, 0)}> <select class=\"rounded text-xs p-1.5 focus:ring-0 focus:border-primary-500 border-1 transition duration-300\" name=\"status\"><option value=\"unread\" data-svelte-h=\"svelte-pji9bi\">Unread</option><option value=\"responded\" data-svelte-h=\"svelte-rkcdku\">Responded</option><option value=\"spam\" data-svelte-h=\"svelte-tuglwu\">Spam</option></select> </form></td> </tr>`;\n  })}</tbody></table></div> <div class=\"${\"\" + escape(totalCount < 10 ? \"hidden\" : \"\", true) + \" px-5 flex justify-between items-center mb-3 mt-4\"}\"><button ${currentPage === 1 ? \"disabled\" : \"\"} class=\"px-5 py-1.5 bg-gray-700 border-1 disabled:bg-gray-200 disabled:border-gray-200 disabled:hover:text-white disabled:cursor-not-allowed border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 transition duration-300\">Previous</button> <span>Page ${escape(currentPage)} of ${escape(totalPages)}</span> <button ${currentPage === totalPages ? \"disabled\" : \"\"} class=\"px-5 py-1.5 bg-gray-700 border-1 disabled:bg-gray-200 disabled:border-gray-200 disabled:hover:text-white disabled:cursor-not-allowed border-gray-700 text-white rounded hover:bg-white hover:text-gray-700 transition duration-300\">Next</button></div>` : `${!searchQuery.trim() ? `<div class=\"h-60 w-full pt-20 text-center text-gray-500\" data-svelte-h=\"svelte-7yi070\">No Data available</div>` : `<div class=\"h-60 w-full pt-20 text-center text-gray-500\">No Data found for <span class=\"font-medium text-black\">&quot;${escape(searchQuery)}&quot;</span></div>`}`}`}</section> ${``}`;\n});\nconst Page = create_ssr_component(($$result, $$props, $$bindings, slots) => {\n  let { data } = $$props;\n  console.log(data, \"aaaaaaaaaa\");\n  if ($$props.data === void 0 && $$bindings.data && data !== void 0) $$bindings.data(data);\n  return `${validate_component(Contactadmin, \"Contactadmin\").$$render($$result, { data }, {}, {})}`;\n});\nexport {\n  Page as default\n};\n"],"names":[],"mappings":"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"}