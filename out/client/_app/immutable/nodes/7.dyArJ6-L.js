const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["../assets/quill.BzY4kI8E.css"])))=>i.map(i=>d[i]);
import{S as Ne,i as Oe,s as Ae,Q as Ke,d as v,m as pe,r as He,o as ue,p as le,a as Fe,q as X,u as r,b as J,c as o,w as me,x as Y,O as Xe,e as m,f as I,g as ne,h as D,A as fe,z as _e,j as _,t as ie,k as U,C as ge,_ as Je,H as Ze,I as Be,U as ke,T as Qe,a4 as $e,E as et,F as tt,G as lt,a5 as rt,L as st,M as ot}from"../chunks/1w2tVRpE.js";import"../chunks/IHki7fMi.js";import{_ as je}from"../chunks/C1FmrZbK.js";import{e as at}from"../chunks/BoqYbZC7.js";import{T as nt,t as Pe}from"../chunks/BtG5aEW1.js";import{a as it}from"../chunks/B5PH7vek.js";import{e as Se}from"../chunks/ITkS-TNF.js";import{I as ze}from"../chunks/CzG5mwcR.js";function Ge(l){let e,t,c;return{c(){e=_("input"),this.h()},l(s){e=m(s,"INPUT",{name:!0,type:!0}),this.h()},h(){r(e,"name","id"),r(e,"type","hidden")},m(s,i){J(s,e,i),X(e,l[2].id),t||(c=Y(e,"input",l[12]),t=!0)},p(s,i){i&4&&X(e,s[2].id)},d(s){s&&v(e),t=!1,c()}}}function ut(l){let e,t,c,s;return{c(){e=_("input"),this.h()},l(i){e=m(i,"INPUT",{type:!0,name:!0,accept:!0,class:!0}),this.h()},h(){r(e,"type","file"),r(e,"name","image"),r(e,"accept","image/*"),r(e,"class","w-full p-2 border rounded"),e.required=t=!l[1]},m(i,g){J(i,e,g),l[18](e),c||(s=Y(e,"change",l[10]),c=!0)},p(i,g){g&2&&t!==(t=!i[1])&&(e.required=t)},d(i){i&&v(e),l[18](null),c=!1,s()}}}function ct(l){let e,t,c;return{c(){e=_("input"),this.h()},l(s){e=m(s,"INPUT",{type:!0,name:!0,placeholder:!0,class:!0}),this.h()},h(){r(e,"type","text"),r(e,"name","image"),r(e,"placeholder","Image URL"),r(e,"class","w-full p-2 border rounded"),e.required=!0},m(s,i){J(s,e,i),X(e,l[5]),t||(c=Y(e,"input",l[17]),t=!0)},p(s,i){i&32&&e.value!==s[5]&&X(e,s[5])},d(s){s&&v(e),t=!1,c()}}}function We(l){let e,t;return{c(){e=_("img"),this.h()},l(c){e=m(c,"IMG",{src:!0,alt:!0,class:!0}),this.h()},h(){ke(e.src,t=l[5])||r(e,"src",t),r(e,"alt","Preview Image"),r(e,"class","w-40 h-40 rounded border mb-4")},m(c,s){J(c,e,s)},p(c,s){s&32&&!ke(e.src,t=c[5])&&r(e,"src",t)},d(c){c&&v(e)}}}function dt(l){let e,t,c,s=l[1]?"Edit Product":"Create New Product",i,g,u,h,a,w,d,p,n,B,T,f,y="Image Input Type:",A,F,j,E,R,K,S,P,Q,k,C,V,q,re="Cancel",N,L,Z=l[1]?"Update":"Submit",ee,se,oe,te,z,G,he="Preview",Ie,be,ve,ae,$,Ce,Le,Me,H=l[2]&&Ge(l);function Ve(b,O){return b[6]==="url"?ct:ut}let ye=Ve(l),x=ye(l),M=l[5]&&We(l);return ae=new nt({props:{position:"bottom-right",richColors:!0}}),Ce=Ke(l[15][0]),{c(){e=_("div"),t=_("div"),c=_("h2"),i=ie(s),g=U(),u=_("form"),h=_("input"),a=U(),H&&H.c(),w=U(),d=_("div"),p=U(),n=_("input"),B=U(),T=_("div"),f=_("label"),f.textContent=y,A=U(),F=_("div"),j=_("label"),E=_("input"),R=ie(" URL"),K=U(),S=_("label"),P=_("input"),Q=ie(" Upload"),k=U(),x.c(),C=U(),V=_("div"),q=_("button"),q.textContent=re,N=U(),L=_("button"),ee=ie(Z),te=U(),z=_("div"),G=_("h3"),G.textContent=he,Ie=U(),M&&M.c(),ve=U(),ge(ae.$$.fragment),this.h()},l(b){e=m(b,"DIV",{class:!0});var O=I(e);t=m(O,"DIV",{class:!0});var ce=I(t);c=m(ce,"H2",{class:!0});var qe=I(c);i=ne(qe,s),qe.forEach(v),g=D(ce),u=m(ce,"FORM",{class:!0,method:!0,action:!0,enctype:!0});var W=I(u);h=m(W,"INPUT",{name:!0,placeholder:!0,class:!0}),a=D(W),H&&H.l(W),w=D(W),d=m(W,"DIV",{class:!0}),I(d).forEach(v),p=D(W),n=m(W,"INPUT",{type:!0,name:!0}),B=D(W),T=m(W,"DIV",{class:!0});var de=I(T);f=m(de,"LABEL",{class:!0,"data-svelte-h":!0}),fe(f)!=="svelte-lkup85"&&(f.textContent=y),A=D(de),F=m(de,"DIV",{class:!0});var we=I(F);j=m(we,"LABEL",{});var De=I(j);E=m(De,"INPUT",{type:!0}),R=ne(De," URL"),De.forEach(v),K=D(we),S=m(we,"LABEL",{});var Ue=I(S);P=m(Ue,"INPUT",{type:!0}),Q=ne(Ue," Upload"),Ue.forEach(v),we.forEach(v),k=D(de),x.l(de),de.forEach(v),C=D(W),V=m(W,"DIV",{class:!0});var Ee=I(V);q=m(Ee,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),fe(q)!=="svelte-16i6ppw"&&(q.textContent=re),N=D(Ee),L=m(Ee,"BUTTON",{type:!0,class:!0});var Re=I(L);ee=ne(Re,Z),Re.forEach(v),Ee.forEach(v),W.forEach(v),te=D(ce),z=m(ce,"DIV",{class:!0});var Te=I(z);G=m(Te,"H3",{class:!0,"data-svelte-h":!0}),fe(G)!=="svelte-1pwhgft"&&(G.textContent=he),Ie=D(Te),M&&M.l(Te),Te.forEach(v),ce.forEach(v),O.forEach(v),ve=D(b),_e(ae.$$.fragment,b),this.h()},h(){r(c,"class","text-xl font-bold mb-4"),r(h,"name","title"),r(h,"placeholder","Title"),r(h,"class","w-full p-2 border rounded"),h.required=!0,r(d,"class","border border-t rounded bg-white h-52"),r(n,"type","hidden"),r(n,"name","content"),n.value=l[4],r(f,"class","font-semibold"),r(E,"type","radio"),E.__value="url",X(E,E.__value),r(P,"type","radio"),P.__value="upload",X(P,P.__value),r(F,"class","flex gap-4"),r(T,"class","space-y-2"),r(q,"type","button"),r(q,"class","px-4 py-2 rounded border border-gray-400 hover:bg-gray-100"),r(L,"type","submit"),r(L,"class","bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700"),r(V,"class","flex justify-end gap-2"),r(u,"class","space-y-4"),r(u,"method","POST"),r(u,"action",se=l[1]?"?/editblog":"?/createblogs"),r(u,"enctype","multipart/form-data"),r(G,"class","text-lg font-semibold mb-2"),r(z,"class","mt-6 border-t pt-4"),r(t,"class","bg-white p-6 rounded-lg shadow-lg w-8/12 h-[530px] overflow-y-auto relative z-50"),r(e,"class",be=l[0]?"fixed inset-0 z-40 bg-black bg-opacity-40 flex items-center justify-center":"hidden"),Ce.p(E,P)},m(b,O){J(b,e,O),o(e,t),o(t,c),o(c,i),o(t,g),o(t,u),o(u,h),X(h,l[3]),o(u,a),H&&H.m(u,null),o(u,w),o(u,d),l[13](d),o(u,p),o(u,n),o(u,B),o(u,T),o(T,f),o(T,A),o(T,F),o(F,j),o(j,E),E.checked=E.__value===l[6],o(j,R),o(F,K),o(F,S),o(S,P),P.checked=P.__value===l[6],o(S,Q),o(T,k),x.m(T,null),o(u,C),o(u,V),o(V,q),o(V,N),o(V,L),o(L,ee),o(t,te),o(t,z),o(z,G),o(z,Ie),M&&M.m(z,null),J(b,ve,O),me(ae,b,O),$=!0,Le||(Me=[Y(h,"input",l[11]),Y(E,"change",l[14]),Y(P,"change",l[16]),Y(q,"click",l[19]),Xe(oe=at.call(null,u,l[20]))],Le=!0)},p(b,[O]){(!$||O&2)&&s!==(s=b[1]?"Edit Product":"Create New Product")&&Fe(i,s),O&8&&h.value!==b[3]&&X(h,b[3]),b[2]?H?H.p(b,O):(H=Ge(b),H.c(),H.m(u,w)):H&&(H.d(1),H=null),(!$||O&16)&&(n.value=b[4]),O&64&&(E.checked=E.__value===b[6]),O&64&&(P.checked=P.__value===b[6]),ye===(ye=Ve(b))&&x?x.p(b,O):(x.d(1),x=ye(b),x&&(x.c(),x.m(T,null))),(!$||O&2)&&Z!==(Z=b[1]?"Update":"Submit")&&Fe(ee,Z),(!$||O&2&&se!==(se=b[1]?"?/editblog":"?/createblogs"))&&r(u,"action",se),oe&&$e(oe.update)&&O&1&&oe.update.call(null,b[20]),b[5]?M?M.p(b,O):(M=We(b),M.c(),M.m(z,null)):M&&(M.d(1),M=null),(!$||O&1&&be!==(be=b[0]?"fixed inset-0 z-40 bg-black bg-opacity-40 flex items-center justify-center":"hidden"))&&r(e,"class",be)},i(b){$||(le(ae.$$.fragment,b),$=!0)},o(b){ue(ae.$$.fragment,b),$=!1},d(b){b&&(v(e),v(ve)),H&&H.d(),l[13](null),x.d(),M&&M.d(),pe(ae,b),Ce.r(),Le=!1,He(Me)}}}function ft(l,e,t){let{isEditing:c=!1}=e,{blogToEdit:s=null}=e,{showForm:i=!1}=e;Je();let g="",u="",h="",a="url",w,d,p,n;Ze(async()=>{const k=await je(()=>import("../chunks/B7ULj2qj.js"),[],import.meta.url);await je(()=>Promise.resolve({}),__vite__mapDeps([0]),import.meta.url),n=k.default,await Be(),p&&!d&&(d=new n(p,{theme:"snow",placeholder:"Write your blog content...",modules:{toolbar:[[{header:[1,2,3,!1]}],["bold","italic","underline"],[{list:"ordered"},{list:"bullet"}],[{color:[]}],["link","blockquote","code-block","image"],["clean"]]}}),d.on("text-change",()=>{t(4,u=d.root.innerHTML)}))});async function B(){await Be(),c&&s?(t(3,g=s.title||""),s.category,t(5,h=s.image||""),t(4,u=s.content||""),t(6,a=h!=null&&h.startsWith("http")?"url":"upload"),d&&(d.root.innerHTML=s.content||"")):(t(3,g=""),t(5,h=""),t(4,u=""),t(6,a="url"),d&&(d.root.innerHTML=""))}function T(){t(2,s=null),t(1,c=!1),t(0,i=!0)}function f(k){const C=k.target.files[0];C&&t(5,h=URL.createObjectURL(C))}const y=[[]];function A(){g=this.value,t(3,g)}function F(){s.id=this.value,t(2,s)}function j(k){Qe[k?"unshift":"push"](()=>{p=k,t(8,p)})}function E(){a=this.__value,t(6,a)}function R(){a=this.__value,t(6,a)}function K(){h=this.value,t(5,h)}function S(k){Qe[k?"unshift":"push"](()=>{w=k,t(7,w)})}const P=()=>{t(0,i=!1)},Q=({cancel:k})=>async({result:C})=>{var V,q,re,N;C.type==="success"?(V=C.data)!=null&&V.success?(Pe.success(C.data.message),T(),t(0,i=!1)):Pe.error(((q=C.data)==null?void 0:q.error)||((re=C.data)==null?void 0:re.message)):C.type==="failure"&&Pe.error(((N=C.data)==null?void 0:N.error)||"Form submission failed"),await it(C)};return l.$$set=k=>{"isEditing"in k&&t(1,c=k.isEditing),"blogToEdit"in k&&t(2,s=k.blogToEdit),"showForm"in k&&t(0,i=k.showForm)},l.$$.update=()=>{l.$$.dirty&1&&i&&B()},[i,c,s,g,u,h,a,w,p,T,f,A,F,j,E,y,R,K,S,P,Q]}class ht extends Ne{constructor(e){super(),Oe(this,e,ft,dt,Ae,{isEditing:1,blogToEdit:2,showForm:0})}}function xe(l,e,t){const c=l.slice();return c[6]=e[t],c}function Ye(l){let e,t,c=l[6].title.slice(0,100)+"",s,i,g,u,h,a=l[6].content.slice(0,100)+"",w,d,p,n,B,T,f,y,A,F,j,E,R,K,S,P,Q,k,C,V,q;F=new ze({props:{icon:"ic:sharp-mode-edit",class:"text-xl"}});function re(){return l[4](l[6])}return Q=new ze({props:{icon:"bi:trash",class:"text-xl"}}),{c(){e=_("tr"),t=_("td"),s=ie(c),i=ie("..."),g=U(),u=_("td"),h=new ot(!1),w=ie("..."),d=U(),p=_("td"),n=_("img"),T=U(),f=_("td"),y=_("div"),A=_("button"),ge(F.$$.fragment),j=U(),E=_("form"),R=_("input"),S=U(),P=_("button"),ge(Q.$$.fragment),k=U(),this.h()},l(N){e=m(N,"TR",{class:!0});var L=I(e);t=m(L,"TD",{class:!0});var Z=I(t);s=ne(Z,c),i=ne(Z,"..."),Z.forEach(v),g=D(L),u=m(L,"TD",{class:!0});var ee=I(u);h=st(ee,!1),w=ne(ee,"..."),ee.forEach(v),d=D(L),p=m(L,"TD",{class:!0});var se=I(p);n=m(se,"IMG",{src:!0,class:!0}),se.forEach(v),T=D(L),f=m(L,"TD",{class:!0});var oe=I(f);y=m(oe,"DIV",{class:!0});var te=I(y);A=m(te,"BUTTON",{class:!0});var z=I(A);_e(F.$$.fragment,z),z.forEach(v),j=D(te),E=m(te,"FORM",{method:!0,action:!0});var G=I(E);R=m(G,"INPUT",{type:!0,name:!0}),S=D(G),P=m(G,"BUTTON",{type:!0,class:!0});var he=I(P);_e(Q.$$.fragment,he),he.forEach(v),G.forEach(v),te.forEach(v),oe.forEach(v),k=D(L),L.forEach(v),this.h()},h(){r(t,"class","px-4 py-3"),h.a=w,r(u,"class","px-4 py-3"),ke(n.src,B=l[6].image)||r(n,"src",B),r(n,"class","h-16 w-16 border rounded object-cover"),r(p,"class","px-4 py-3"),r(A,"class","bg-gray-700 text-white px-2 py-1 rounded hover:bg-white hover:text-gray-700 border border-gray-700 flex items-center gap-1"),r(R,"type","hidden"),r(R,"name","id"),R.value=K=l[6].id,r(P,"type","submit"),r(P,"class","bg-gray-700 text-white px-2 py-1 rounded hover:bg-white hover:text-gray-700 border border-gray-700 flex items-center gap-1"),r(E,"method","POST"),r(E,"action","?/deleteblog"),r(y,"class","flex gap-2 items-center"),r(f,"class","px-4 py-3 my-3 flex items-center justify-center"),r(e,"class","border-t border-gray-300 text-left align-top")},m(N,L){J(N,e,L),o(e,t),o(t,s),o(t,i),o(e,g),o(e,u),h.m(a,u),o(u,w),o(e,d),o(e,p),o(p,n),o(e,T),o(e,f),o(f,y),o(y,A),me(F,A,null),o(y,j),o(y,E),o(E,R),o(E,S),o(E,P),me(Q,P,null),o(e,k),C=!0,V||(q=[Y(A,"click",re),Y(E,"submit",rt(l[5]))],V=!0)},p(N,L){l=N,(!C||L&1)&&c!==(c=l[6].title.slice(0,100)+"")&&Fe(s,c),(!C||L&1)&&a!==(a=l[6].content.slice(0,100)+"")&&h.p(a),(!C||L&1&&!ke(n.src,B=l[6].image))&&r(n,"src",B),(!C||L&1&&K!==(K=l[6].id))&&(R.value=K)},i(N){C||(le(F.$$.fragment,N),le(Q.$$.fragment,N),C=!0)},o(N){ue(F.$$.fragment,N),ue(Q.$$.fragment,N),C=!1},d(N){N&&v(e),pe(F),pe(Q),V=!1,He(q)}}}function pt(l){let e,t,c,s='<tr class="font-medium bg-gray-100 sticky top-0 text-left"><th class="px-4 py-2 border">Title</th> <th class="px-4 py-2 border">Description</th> <th class="px-4 py-2 border">Image</th> <th class="px-4 py-2 border">Actions</th></tr>',i,g,u,h=Se(l[0]),a=[];for(let d=0;d<h.length;d+=1)a[d]=Ye(xe(l,h,d));const w=d=>ue(a[d],1,1,()=>{a[d]=null});return{c(){e=_("div"),t=_("table"),c=_("thead"),c.innerHTML=s,i=U(),g=_("tbody");for(let d=0;d<a.length;d+=1)a[d].c();this.h()},l(d){e=m(d,"DIV",{class:!0});var p=I(e);t=m(p,"TABLE",{class:!0});var n=I(t);c=m(n,"THEAD",{"data-svelte-h":!0}),fe(c)!=="svelte-1w5ldww"&&(c.innerHTML=s),i=D(n),g=m(n,"TBODY",{});var B=I(g);for(let T=0;T<a.length;T+=1)a[T].l(B);B.forEach(v),n.forEach(v),p.forEach(v),this.h()},h(){r(t,"class","w-full border-r-1 border-collapse rounded text-sm"),r(e,"class","w-full border-t-1 border-b-1 border-l-1 overflow-auto rounded scroll-bar")},m(d,p){J(d,e,p),o(e,t),o(t,c),o(t,i),o(t,g);for(let n=0;n<a.length;n+=1)a[n]&&a[n].m(g,null);u=!0},p(d,[p]){if(p&3){h=Se(d[0]);let n;for(n=0;n<h.length;n+=1){const B=xe(d,h,n);a[n]?(a[n].p(B,p),le(a[n],1)):(a[n]=Ye(B),a[n].c(),le(a[n],1),a[n].m(g,null))}for(tt(),n=h.length;n<a.length;n+=1)w(n);lt()}},i(d){if(!u){for(let p=0;p<h.length;p+=1)le(a[p]);u=!0}},o(d){a=a.filter(Boolean);for(let p=0;p<a.length;p+=1)ue(a[p]);u=!1},d(d){d&&v(e),et(a,d)}}}function mt(l,e,t){let c,{blogData:s}=e,{searchQuery:i=""}=e;const g=Je(),u=a=>g("edit",a),h=a=>{confirm("Are you sure you want to delete this blog?")&&a.target.submit()};return l.$$set=a=>{"blogData"in a&&t(2,s=a.blogData),"searchQuery"in a&&t(3,i=a.searchQuery)},l.$$.update=()=>{l.$$.dirty&12&&t(0,c=s==null?void 0:s.filter(a=>a.title.toLowerCase().includes(i.toLowerCase())||a.content.toLowerCase().includes(i.toLowerCase())||a.content.toLowerCase().includes(i.toLowerCase())))},[c,g,s,i,u,h]}class _t extends Ne{constructor(e){super(),Oe(this,e,mt,pt,Ae,{blogData:2,searchQuery:3})}}function gt(l){let e,t,c="Products",s,i,g,u,h="Add New Product",a,w,d,p,n,B,T;return w=new ht({props:{isEditing:l[1],blogToEdit:l[2],showForm:l[3]}}),w.$on("closeForm",l[6]),p=new _t({props:{blogData:l[0].allBlogs,searchQuery:l[4]}}),p.$on("edit",l[9]),{c(){e=_("div"),t=_("h1"),t.textContent=c,s=U(),i=_("input"),g=U(),u=_("button"),u.textContent=h,a=U(),ge(w.$$.fragment),d=U(),ge(p.$$.fragment),this.h()},l(f){e=m(f,"DIV",{class:!0});var y=I(e);t=m(y,"H1",{class:!0,"data-svelte-h":!0}),fe(t)!=="svelte-57wn1m"&&(t.textContent=c),s=D(y),i=m(y,"INPUT",{type:!0,placeholder:!0,class:!0}),g=D(y),u=m(y,"BUTTON",{class:!0,"data-svelte-h":!0}),fe(u)!=="svelte-r96z7c"&&(u.textContent=h),y.forEach(v),a=D(f),_e(w.$$.fragment,f),d=D(f),_e(p.$$.fragment,f),this.h()},h(){r(t,"class","text-2xl font-bold w-full sm:w-auto"),r(i,"type","text"),r(i,"placeholder","Search Blogs..."),r(i,"class","border-gray-300 rounded-md shadow-sm w-full sm:w-80 focus:ring-0"),r(u,"class","bg-gray-700 text-white border px-5 py-1 rounded hover:bg-white hover:text-gray-700 border-gray-700 w-full sm:w-auto"),r(e,"class","mb-4 flex flex-wrap items-center gap-4 bg-gray-300 justify-between p-4 rounded")},m(f,y){J(f,e,y),o(e,t),o(e,s),o(e,i),X(i,l[4]),o(e,g),o(e,u),J(f,a,y),me(w,f,y),J(f,d,y),me(p,f,y),n=!0,B||(T=[Y(i,"input",l[8]),Y(u,"click",l[7])],B=!0)},p(f,[y]){y&16&&i.value!==f[4]&&X(i,f[4]);const A={};y&2&&(A.isEditing=f[1]),y&4&&(A.blogToEdit=f[2]),y&8&&(A.showForm=f[3]),w.$set(A);const F={};y&1&&(F.blogData=f[0].allBlogs),y&16&&(F.searchQuery=f[4]),p.$set(F)},i(f){n||(le(w.$$.fragment,f),le(p.$$.fragment,f),n=!0)},o(f){ue(w.$$.fragment,f),ue(p.$$.fragment,f),n=!1},d(f){f&&(v(e),v(a),v(d)),pe(w,f),pe(p,f),B=!1,He(T)}}}function bt(l,e,t){let{data:c}=e,s=!1,i=null,g=!1,u="";function h(n){t(2,i=null),t(3,g=!1),Be().then(()=>{t(2,i=n),t(1,s=!!n),t(3,g=!0)})}function a(){t(2,i=null),t(1,s=!1),t(3,g=!1)}function w(){h(null)}function d(){u=this.value,t(4,u)}const p=n=>h(n.detail);return l.$$set=n=>{"data"in n&&t(0,c=n.data)},[c,s,i,g,u,h,a,w,d,p]}class Lt extends Ne{constructor(e){super(),Oe(this,e,bt,gt,Ae,{data:0})}}export{Lt as component};
